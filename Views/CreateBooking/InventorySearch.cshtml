@model HUS_project.Models.ViewModels.CreateBookingModel
@{
    ViewData["Title"] = "BookingSøgning";
}

<script src="~/js/Inventory.js"></script>

<div class="blue-oyster-bar">

    <form action="InventorySearch" method="post" id="searchform">

        <div class="row">

            <div class="col-2"></div>


            <div class="col-8">

                <div class="row">

                    <div class="col-3">

                        <div class="form-floating">
                            <select class="form-select" id="categories" asp-for="@Model.SearchModel.Category" onchange="this.form.submit()" required>
                                <option></option>
                                @foreach (var item in Model.CategoryDropdown)
                                {
                                    <option>@item</option>
                                }

                            </select>
                            <label>vælg kategori</label>
                        </div>

                    </div>



                    @*Borrow from this date*@
                    <div class="col-3">
                        <input placeholder="Vælg Dato" type="text" DateTimeFormat="d/M/yyyy" onfocusin="(this.type='date')" @*onfocusout="(this.type='text')"*@ class="date">
                    </div>
                    @*Borrow until this date*@
                    <div class="col-3">
                        <input placeholder="Vælg Dato" type="text" DateTimeFormat="d/M/yyyy" onfocusin="(this.type='date')" @*onfocusout="(this.type='text')"*@ class="date">
                    </div>

                    <div class="col-3">

                        <div class="form-floating">
                            <select class="form-select" id="locations" asp-for="@Model.Location" required>
                                <option hidden></option>
                                @foreach (var item in Model.LocationDropdown)
                                {
                                    <option>@item</option>
                                }

                            </select>
                            <label>Leveringssted</label>
                        </div>

                    </div>

                </div>

                <div class="row">

                    <div class="col">

                        <div class="form-floating mb-2">
                            <input type="search" class="form-control" asp-for="@Model.SearchModel.SearchName" id="searchbar" onkeyup="SetTimeout()" onkeydown="ClearTimeout()" placeholder="name@example.com">
                            <label for="searchbar">søg efter enhed:</label>
                        </div>

                    </div>

                </div>

            </div>



            <div class="col-2">

                <div class="row">
                    <button type="submit" class=" btn-primary btn Button-Size btn-sm" asp-action="MyBasket">Se Kurv</button>
                </div>

                <div class="row">
                    <label>enheder i kurven</label>
                </div>

            </div>





        </div>



    </form>
    @*SEARCH FORM END*@



</div>

<!--container listing search results-->
<div class="container containerMain box-shadow">
    <form asp-action="EditView" asp-controller="Device" method="post">

        <div class="row containerHeader">
            <h4 class="col">Lagerbeholdning</h4>
        </div>

        <div class="row containerSubHeader border-top border-bottom border-white border-1 dynamic-Font-Size-10">
            <div class="col-md-1 col-2 p-1 border-end border-white border-1">ID</div>
            <div class="col-md-3 col-6 p-1 border-end border-white border-1">model navn</div>
            <div class="col-md-2 col-4 p-1 border-end border-white border-1">Kategori</div>
            <div class="col-md-1 col-4 p-1 border-end border-white border-1">På Lager</div>
            <div class="col-md-1 col-4 p-1 border-end border-white border-1">Udlånt</div>
            <div class="col-md-2 col-4 p-1 border-end border-white border-1">Lagerstatus</div>

            <div class="col-md-1 col-4 p-1 border-white border-1"></div>

        </div>




        @foreach (BookingSearchModel item in Model.InventoryBooking)
        {

            <div class="row containerBody alternating_row dynamic-Font-Size-10">
                <div class=" col-md-1 col-2 p-1 border-end border-white border-1">@item.ModelID</div>
                <div class=" col-md-3 col-6 p-1 border-end border-white border-1">@item.ModelName</div>
                <div class=" col-md-2 col-4 p-1 border-end border-white border-1">@item.CategoryName</div>

                <div class=" col-md-1 col-4 p-1 border-end border-white border-1">

                    @foreach (int instock in @item.InStock)
                    {
                        <div>@instock</div>
                    }

                </div>

                <div class=" col-md-1 col-4 p-1 border-end border-white border-1">
                    @foreach (int notinstock in @item.NotInstock)
                    {
                        <div>@notinstock</div>
                    }
                </div>

                <div class=" col-md-2 col-4 p-1 border-end border-white border-1">

                    @for (int i = 0; i < item.RentDate.Count; i++)
                    {
                        <div>@(item.RentDate[i].ToShortDateString()+"-"+ item.ReturnDate[i].ToShortDateString())</div>

                    }


                </div>

                <div class="col-md-1 col-2 p-1 border-white border-1 center">

                    <div class="row">


                        <div class="input-group input-group-sm mb-1">
                            <input type="text" class="form-control" placeholder="Recipient's username" aria-label="Recipient's username with two button addons">

                            <div class="btn-group-vertical">
                                <button class="btn btn-primary btn-sm btn-blue" type="button">Button</button>
                                <button class="btn btn-primary btn-sm btn-blue" type="button">Button</button>

                            </div>
                        </div>

                        <button type="button"  class="btn btn-primary"><i class="bi-arrow-down"></i>button </button>

                    </div>

                    <div class="row">

                        <button class="btn btn-primary btn-sm btn-blue" type="submit" name="submit">Tilføj til Kurv </button>

                    </div>



                </div>

            </div>

        }

        <div class="row containerFooter">
            <h4>&nbsp;</h4>
        </div>
    </form>
</div>